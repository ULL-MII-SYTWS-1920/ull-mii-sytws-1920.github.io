---
layout: post
title:  "Clase del Lunes 09/12/2019"
categories: Clases
---



# Clase del Lunes 09/12/2019

## Anuncio

Incidencia en el servicio IaaS y sistemas de cómputo. Contacto: http://soporte.ull.es/stic (soporte@ull.es). 
Máquinas apagadas.

## Commanding Data Bases. Chapter 5 of the Book Node.js the Right Way

Este es el primer capítulo de una serie que cubre los capítulos del 5 al 9 en el que se construye una aplicación Web.

En este capítulos 5 vamos a:

* Descargar desde el Proyecto Gutenberg (ebooks gratuitos) el catálogo de libros en [Resource Description Framework RDF](https://en.wikipedia.org/wiki/Resource_Description_Framework). 

  [![Guttenberg project](/assets/images/guttenberg.png)](http://www.gutenberg.org/)

El RDF es una familia de especificaciones de la World Wide Web Consortium (W3C) para describir en XML los datos que aparecen en un recurso web.

* Extraeremos del fichero RDF/XML la información que nos interesa, produciendo como salida un fichero JSON con la misma
   - La idea es escribir algo así como un programa `rdf-to-json.js` que funcione así:
   ```
   ~/.../transforming-data-and-testing-continuously-chapter-5/databases(master)]$ ./rdf-to-json.js ../data/cache/epub/12/pg12.rdf 
   ```

  - Que deberá producir una  salida parecida a esta:

   ```json
        {
        "id": 12,
        "title": "Through the Looking-Glass",
        "authors": [
            "Carroll, Lewis"
        ],
        "subjects": [
            "Fantasy literature"
        ]
        }
    ```
* Estos JSON van a guardarse en una base de Datos denominada Elastic Search que va a ser usada en el capítulo 6 del libro (Commanding Databases). 
  - Elasticsearch es una base de datos NoSQL que funciona como un servicio REST a la que se accede vía HTTP  y que almacena e indexa documentos JSON. En el capítulo 6 se construye un programa de línea de comandos que permite interactuar con la base de datos que se crea en el capítulo 5.
 - Este es el esquema de trabajo para los dos capítulos:
  - ![xml 2 json and json 2 elastic search](/assets/images/ch5-xml-2-json-ch6-2-es.png)


## Line Delimited JSON

No vamos a usar JSON como formato de salida, sino Line Delimited JSON.

[Line Delimited JSON (JDL)](https://en.wikipedia.org/wiki/JSON_streaming#Line-delimited_JSON), newline-delimited **JSON** (**NDJSON**), and **JSON lines** (**JSONL**) are three terms for equivalent formats of JSON streaming.

Streaming makes use of the fact that the JSON format does not allow newline and return characters within primitive values (in strings those must be escaped as `\n` and `\r`, respectively) and that most JSON formatters default to not including any whitespace, including newlines and returns.
These features allow the <u>newline</u> and/or return characters to be used as a delimiter.



This format is documented at the [JSON Lines website](http://jsonlines.org/).

This example shows two JSON objects (the implicit newline characters at the end of each line are not shown):

```json
{"some":"thing\n"}
```

```json
{"may":{"include":"nested","objects":["and","arrays"]}}
```

The use of a newline as a delimiter enables this format to work very well with [traditional line-oriented Unix tools](https://en.wikipedia.org/wiki/Pipeline_(Unix)).